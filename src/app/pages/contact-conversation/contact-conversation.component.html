<main class="min-h-screen bg-gray-900 text-white p-6">
  <div class="flex justify-between items-center mb-8">
    <h1 class="text-3xl font-bold text-blue-400">Conversa</h1>

    <div class="space-x-4">
      <button
        routerLink="/"
        class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"
      >
        Voltar
      </button>

      <button
        (click)="logout()"
        class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"
      >
        Logout
      </button>
    </div>
  </div>

  <div class="flex flex-col space-y-4 max-w-3xl mx-auto">
    @for (message of messages; track message.id) {
    <div class="flex">
      @if (isSentTextMessage(message)) {
      <div
        class="ml-auto max-w-sm bg-blue-600 text-white p-4 rounded-lg shadow-lg"
      >
        <p class="text-sm">{{ message.content }}</p>
        <p class="text-xs text-gray-300 mt-2">
          {{ message.date | date : "dd/MM/yyyy HH:mm" }}
        </p>
      </div>
      } @if (isReceivedTextMessage(message)) {
      <div
        class="mr-auto max-w-sm bg-gray-700 text-white p-4 rounded-lg shadow-lg"
      >
        <p class="text-sm">{{ message.content }}</p>
        <p class="text-xs text-gray-400 mt-2">
          {{ message.date | date : "dd/MM/yyyy HH:mm" }}
        </p>
      </div>
      } @if (isReceivedTicketMessage(message)) {
      <div
        class="mr-auto max-w-sm bg-gray-700 text-white p-4 rounded-lg shadow-lg"
      >
        <p class="text-sm">{{ message.content.customerInput.value }}</p>
        <p class="text-xs text-gray-400 mt-2">
          {{ message.date | date : "dd/MM/yyyy HH:mm" }}
        </p>
      </div>
      }
    </div>
    } @empty {
    <p class="text-gray-500 text-2xl text-center">
      Não há mensagens para exibir.
    </p>
    }
  </div>
</main>
